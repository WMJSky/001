{"ast":null,"code":"var _jsxFileName = \"G:\\\\project\\\\py\\\\frontEnd-all-knowledge-master\\\\examples\\\\funnyDemo\\\\a01_presentForYou\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { Component, useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactPlayer from 'react-player';\nimport Present from './Present';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst videoSrc = require('./video/skystar.mp4');\nconst PageView = props => {\n  _s();\n  const [showPresent, setShowPresent] = useState(false);\n  const myInterval = useRef();\n  const isNum = useRef();\n  isNum.current = 3;\n  const [count, setCount] = useState(3);\n  const [showTime, steShowTime] = useState(false);\n  const [userName, setUserName] = useState('');\n\n  /**\n   * 网页全屏\n   */\n  const areFullscreen = () => {\n    if (!document.fullscreen) {\n      document.body.requestFullscreen();\n    }\n  };\n  const interval = () => {\n    let num = count;\n    myInterval.current = setInterval(() => {\n      console.log(num);\n      if (num <= 0) {\n        console.log('小于等于0');\n        areClearInterval();\n        setShowPresent(true);\n        areFullscreen();\n      }\n      setCount(--num);\n    }, 1000);\n  };\n  const areClearInterval = () => {\n    clearInterval(myInterval.current);\n    // setCount(3)\n  };\n\n  /**\n     * 获取url?后面的参数值\n     * @param name 所要获取的参数名\n     * \n     * eg:\n     *  https://www.baidu.com?param1=111&parma2=222\n     *  GetQueryString('param1') ---> 111\n     */\n  const GetQueryString = name => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const value = decodeURIComponent(urlParams.get(name));\n    return value;\n  };\n  useEffect(() => {\n    let name = GetQueryString('name');\n    console.log('name', !!name);\n    console.log('name', typeof name);\n    setUserName(name !== 'null' ? name : '');\n  }, []);\n  useEffect(() => {\n    clearInterval(myInterval.current);\n    //由于更新时清除了, 所以要重新模拟一下点击时的操作, 确保继续运行\n    // interval()  // 如果有bug，试试注释掉这一句\n    //更新时清除掉interval\n    return () => clearInterval(myInterval.current);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showPresent ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"printer-div\",\n      children: [\"\\u563F\\uFF0C\", userName ? `${userName}，` : '', \"\\u70B9\\u51FB\\u8FD9\\u4E2A\\u6309\\u94AE\\uFF0C\\u5F00\\u542F\\u4F60\\u7684\\u793C\\u7269^_^ \\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          console.log('点了这个按钮');\n          steShowTime(true);\n          interval();\n        },\n        children: \"\\u8FD9\\u4E2A\\u6309\\u94AE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }, this), showTime ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"time-div\",\n      children: showPresent ? null : count >= 1 ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\u8FD8\\u6709\\uFF1A\", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [count, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 80\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 73\n      }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u5F00\\u59CB\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 103\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }, this) : null, showPresent ? /*#__PURE__*/_jsxDEV(Present, {\n      videoSrc: videoSrc\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 22\n    }, this) : null]\n  }, void 0, true);\n};\n_s(PageView, \"mv8pFz94e4ytjaAbbgi/EJOUTNk=\");\n_c = PageView;\nexport default PageView;\nvar _c;\n$RefreshReg$(_c, \"PageView\");","map":{"version":3,"names":["React","Component","useState","useEffect","useRef","ReactDOM","ReactPlayer","Present","videoSrc","require","PageView","props","showPresent","setShowPresent","myInterval","isNum","current","count","setCount","showTime","steShowTime","userName","setUserName","areFullscreen","document","fullscreen","body","requestFullscreen","interval","num","setInterval","console","log","areClearInterval","clearInterval","GetQueryString","name","urlParams","URLSearchParams","window","location","search","value","decodeURIComponent","get"],"sources":["G:/project/py/frontEnd-all-knowledge-master/examples/funnyDemo/a01_presentForYou/src/App.jsx"],"sourcesContent":["import React, { Component, useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactPlayer from 'react-player'\nimport Present from './Present';\nimport './index.css'\n\nconst videoSrc = require('./video/skystar.mp4');\n\nconst PageView = props => {\n\n  const [showPresent, setShowPresent] = useState(false);\n  const myInterval = useRef()\n  const isNum = useRef();\n  isNum.current = 3\n  const [count, setCount] = useState(3)\n  const [showTime, steShowTime] = useState(false)\n  const [userName, setUserName] = useState('')\n\n  /**\n   * 网页全屏\n   */\n  const areFullscreen = () => {\n    if (!document.fullscreen) {\n      document.body.requestFullscreen();\n    }\n  }\n\n  const interval = () => {\n    let num = count\n    myInterval.current = setInterval(() => {\n      console.log(num);\n      if (num <= 0) {\n        console.log('小于等于0');\n        areClearInterval()\n        setShowPresent(true)\n        areFullscreen();\n      }\n      setCount(--num)\n    }, 1000)\n  }\n\n  const areClearInterval = () => {\n    clearInterval(myInterval.current)\n    // setCount(3)\n  }\n\n  /**\n     * 获取url?后面的参数值\n     * @param name 所要获取的参数名\n     * \n     * eg:\n     *  https://www.baidu.com?param1=111&parma2=222\n     *  GetQueryString('param1') ---> 111\n     */\n  const GetQueryString = (name) => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const value = decodeURIComponent(urlParams.get(name));\n\n    return value\n  }\n\n  useEffect(() => {\n    let name = GetQueryString('name')\n    console.log('name', !!name);\n    console.log('name', typeof name);\n    setUserName(name !== 'null' ? name : '')\n  }, [])\n\n  useEffect(\n    () => {\n      clearInterval(myInterval.current)\n      //由于更新时清除了, 所以要重新模拟一下点击时的操作, 确保继续运行\n      // interval()  // 如果有bug，试试注释掉这一句\n      //更新时清除掉interval\n      return () => clearInterval(myInterval.current)\n    }, [])\n\n\n  return (\n    <>\n      {\n        showPresent\n          ?\n          null\n          :\n          <div className=\"printer-div\">\n            嘿，{userName ? `${userName}，` : ''}点击这个按钮，开启你的礼物^_^\n            &nbsp;\n            <button onClick={() => {\n              console.log('点了这个按钮');\n              steShowTime(true);\n              interval();\n            }}>这个按钮</button>\n          </div>\n      }\n      {\n        showTime\n          ?\n          <div className='time-div'>{showPresent ? null : (count >= 1 ? <h3>还有：<b>{count}s</b></h3> : <h2>开始！</h2>)}</div>\n          :\n          null\n      }\n      {showPresent ? <Present videoSrc={videoSrc}></Present> : null}\n      {/* <Present></Present>\n      <div style={{ width: '400px', height: '200px', border: '2px solid red' }}>\n        <video width={'400px'} height={'200px'} src={require('./video/skystar.mp4')} controls></video>\n      </div> */}\n    </>\n  )\n}\n\nexport default PageView;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACrE,OAAOC,QAAQ,MAAM,WAAW;AAChC,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAO,aAAa;AAAA;AAAA;AAEpB,MAAMC,QAAQ,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAE/C,MAAMC,QAAQ,GAAGC,KAAK,IAAI;EAAA;EAExB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMY,UAAU,GAAGV,MAAM,EAAE;EAC3B,MAAMW,KAAK,GAAGX,MAAM,EAAE;EACtBW,KAAK,CAACC,OAAO,GAAG,CAAC;EACjB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACmB,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;;EAE5C;AACF;AACA;EACE,MAAMqB,aAAa,GAAG,MAAM;IAC1B,IAAI,CAACC,QAAQ,CAACC,UAAU,EAAE;MACxBD,QAAQ,CAACE,IAAI,CAACC,iBAAiB,EAAE;IACnC;EACF,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAM;IACrB,IAAIC,GAAG,GAAGZ,KAAK;IACfH,UAAU,CAACE,OAAO,GAAGc,WAAW,CAAC,MAAM;MACrCC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAChB,IAAIA,GAAG,IAAI,CAAC,EAAE;QACZE,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;QACpBC,gBAAgB,EAAE;QAClBpB,cAAc,CAAC,IAAI,CAAC;QACpBU,aAAa,EAAE;MACjB;MACAL,QAAQ,CAAC,EAAEW,GAAG,CAAC;IACjB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,MAAMI,gBAAgB,GAAG,MAAM;IAC7BC,aAAa,CAACpB,UAAU,CAACE,OAAO,CAAC;IACjC;EACF,CAAC;;EAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMmB,cAAc,GAAIC,IAAI,IAAK;IAC/B,MAAMC,SAAS,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAC7D,MAAMC,KAAK,GAAGC,kBAAkB,CAACN,SAAS,CAACO,GAAG,CAACR,IAAI,CAAC,CAAC;IAErD,OAAOM,KAAK;EACd,CAAC;EAEDvC,SAAS,CAAC,MAAM;IACd,IAAIiC,IAAI,GAAGD,cAAc,CAAC,MAAM,CAAC;IACjCJ,OAAO,CAACC,GAAG,CAAC,MAAM,EAAE,CAAC,CAACI,IAAI,CAAC;IAC3BL,OAAO,CAACC,GAAG,CAAC,MAAM,EAAE,OAAOI,IAAI,CAAC;IAChCd,WAAW,CAACc,IAAI,KAAK,MAAM,GAAGA,IAAI,GAAG,EAAE,CAAC;EAC1C,CAAC,EAAE,EAAE,CAAC;EAENjC,SAAS,CACP,MAAM;IACJ+B,aAAa,CAACpB,UAAU,CAACE,OAAO,CAAC;IACjC;IACA;IACA;IACA,OAAO,MAAMkB,aAAa,CAACpB,UAAU,CAACE,OAAO,CAAC;EAChD,CAAC,EAAE,EAAE,CAAC;EAGR,oBACE;IAAA,WAEIJ,WAAW,GAET,IAAI,gBAEJ;MAAK,SAAS,EAAC,aAAa;MAAA,WAAC,cACzB,EAACS,QAAQ,GAAI,GAAEA,QAAS,GAAE,GAAG,EAAE,EAAC,wFAElC;QAAQ,OAAO,EAAE,MAAM;UACrBU,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;UACrBZ,WAAW,CAAC,IAAI,CAAC;UACjBQ,QAAQ,EAAE;QACZ,CAAE;QAAA,UAAC;MAAI;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QACZ,EAGRT,QAAQ,gBAEN;MAAK,SAAS,EAAC,UAAU;MAAA,UAAEP,WAAW,GAAG,IAAI,GAAIK,KAAK,IAAI,CAAC,gBAAG;QAAA,WAAI,oBAAG;UAAA,WAAIA,KAAK,EAAC,GAAC;QAAA;UAAA;UAAA;UAAA;QAAA,QAAI;MAAA;QAAA;QAAA;QAAA;MAAA,QAAK,gBAAG;QAAA,UAAI;MAAG;QAAA;QAAA;QAAA;MAAA;IAAM;MAAA;MAAA;MAAA;IAAA,QAAO,GAEhH,IAAI,EAEPL,WAAW,gBAAG,QAAC,OAAO;MAAC,QAAQ,EAAEJ;IAAS;MAAA;MAAA;MAAA;IAAA,QAAW,GAAG,IAAI;EAAA,gBAK5D;AAEP,CAAC;AAAA,GArGKE,QAAQ;AAAA,KAARA,QAAQ;AAuGd,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}